!function(a){var b=!1;a(function(){a.ajax({url:"/status",method:"GET",dataType:"json",success:function(c,d,e){204!=e.status&&"undefined"!=typeof c&&(b=!0,a("#subject-status-name").text(c.name),a("#subject-status-desc").text(c.desc),a(".subject-info").addClass("active"),a(".object-list-refresh").trigger("click"))}}),a("#subject-login").on("click",function(){var c={name:a("#name").val(),password:a("#password").val()};return c.name.length<1||c.password.length<1?(a(".float-msg").msg({msg:"Invalid subject name or password."}),void 0):(a.ajax({url:"/login",method:"POST",data:c,dataType:"json",success:function(c){return c.err?(a(".float-msg").msg({msg:c.err+c.msg?"\n"+c.msg:""}),void 0):(window.location.reload(),b=!0,a("#subject-status-name").text(c.name),a("#subject-status-desc").text(c.desc),a(".subject-info").addClass("active"),void 0)}}),void 0)}),a("#subject-logout").on("click",function(){a.ajax({url:"/logout",method:"GET",dataType:"json",complete:function(c){204==c.status&&(b=!1,a(".subject-info").removeClass("active"))}})}),a(".float-msg").on("click",".float-msg-dismiss",function(){a(".float-msg").msg("hide")})}),a.fn.msg=function(b){var c=a(this),d="An error has occurred.";if("string"==typeof b){if("show"===b)return c.addClass("active");if("hide"===b)return c.removeClass("active")}else if("undefined"==typeof b.msg)return c;return alert_style="undefined"==typeof b.style?"alert alert-danger":"alert alert-"+b.style,d=b.msg,c.html('<div class="'+alert_style+'"><p>'+d+' <a href="#" class="float-msg-dismiss">Dismiss</a></p></div>').msg("show"),c}}(window.jQuery);